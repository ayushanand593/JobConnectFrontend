<!-- employer-registration.component.html -->
<div class="registration-container">
  <div class="registration-card">
    <!-- Header -->
    <div class="registration-header">
      <h3>Join as an Employer</h3>
      <p>Create your company account and start posting jobs</p>
    </div>

    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="registration-form">
      <!-- ─────────────────────────────────────────────────────────────────────────
         Account Information Section
      ───────────────────────────────────────────────────────────────────────── -->
      <div class="form-section">
        <h4 class="section-title">Account Information</h4>

        <div class="form-row">
          <!-- Email -->
          <div class="form-group full-width">
            <label for="email" class="form-label required">Email</label>
            <input
              id="email"
              type="email"
              pInputText
              formControlName="email"
              placeholder="Enter your email"
              [class.ng-invalid]="isFieldInvalid('email')"
              class="form-input"
            />
            <small class="error-message" *ngIf="isFieldInvalid('email')">
              {{ getFieldError('email') }}
            </small>
          </div>
        </div>

        <div class="form-row">
          <!-- Password -->
          <div class="form-group">
            <label for="password" class="form-label required">Password</label>
            <p-password
              formControlName="password"
              inputId="password"
              placeholder="Enter your password"
              [class.ng-invalid]="isFieldInvalid('password')"
              styleClass="form-input"
              inputStyleClass="form-input"
              [feedback]="true"
              [toggleMask]="true"
            ></p-password>
            <small class="error-message" *ngIf="isFieldInvalid('password')">
              {{ getFieldError('password') }}
            </small>
          </div>

          <!-- Confirm Password -->
          <div class="form-group">
            <label for="confirmPassword" class="form-label required">Confirm Password</label>
            <p-password
              formControlName="confirmPassword"
              inputId="confirmPassword"
              placeholder="Confirm your password"
              [class.ng-invalid]="isFieldInvalid('confirmPassword')"
              styleClass="form-input"
              inputStyleClass="form-input"
              [feedback]="false"
              [toggleMask]="true"
            ></p-password>
            <small class="error-message" *ngIf="isFieldInvalid('confirmPassword')">
              {{ getFieldError('confirmPassword') }}
            </small>
          </div>
        </div>

        <!-- Password Mismatch Message (at form level) -->
        <div class="form-row">
          <div class="form-group full-width">
            <small
              class="error-message"
              *ngIf="registrationForm.errors?.['passwordMismatch'] && (registrationForm.dirty || registrationForm.touched)"
            >
              Passwords do not match
            </small>
          </div>
        </div>
      </div>

      <!-- ─────────────────────────────────────────────────────────────────────────
         Company Information Section
      ───────────────────────────────────────────────────────────────────────── -->
      <div class="form-section">
        <h4 class="section-title">Company Information</h4>

        <div class="form-row">
          <!-- First Name -->
          <div class="form-group">
            <label for="firstName" class="form-label required">First Name</label>
            <input
              id="firstName"
              type="text"
              pInputText
              formControlName="firstName"
              placeholder="Your first name"
              [class.ng-invalid]="isFieldInvalid('firstName')"
              class="form-input"
            />
            <small class="error-message" *ngIf="isFieldInvalid('firstName')">
              {{ getFieldError('firstName') }}
            </small>
          </div>
        </div>

        <div class="form-row">
          <!-- Company Unique ID -->
          <div class="form-group full-width">
            <label for="companyUniqueId" class="form-label required">Company Unique ID</label>
            <input
              id="companyUniqueId"
              type="text"
              pInputText
              formControlName="companyUniqueId"
              placeholder="Your registered company ID"
              [class.ng-invalid]="isFieldInvalid('companyUniqueId')"
              class="form-input"
            />
            <small class="error-message" *ngIf="isFieldInvalid('companyUniqueId')">
              {{ getFieldError('companyUniqueId') }}
            </small>
          </div>
        </div>
      </div>

      <!-- ─────────────────────────────────────────────────────────────────────────
         Terms and Conditions Section
      ───────────────────────────────────────────────────────────────────────── -->
      <div class="form-section">
        <h4 class="section-title">Terms and Conditions</h4>

        <div class="form-group checkbox-section">
          <div class="checkbox-wrapper">
            <p-checkbox
              formControlName="termsAccepted"
              inputId="termsAccepted"
              [binary]="true"
              [class.ng-invalid]="isFieldInvalid('termsAccepted')"
            ></p-checkbox>
            <label for="termsAccepted" class="checkbox-label">
              I agree to the
              <a href="/terms" target="_blank" class="link">Terms and Conditions</a>
              and
              <a href="/privacy" target="_blank" class="link">Privacy Policy</a>
              <span class="required">*</span>
            </label>
          </div>
          <small class="error-message" *ngIf="isFieldInvalid('termsAccepted')">
            {{ getFieldError('termsAccepted') }}
          </small>
        </div>
      </div>

      <!-- ─────────────────────────────────────────────────────────────────────────
         Form Actions (Submit + Links)
      ───────────────────────────────────────────────────────────────────────── -->
      <div class="form-actions">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="registrationForm.invalid || loading"
        >
          {{ loading ? 'Creating Employer Account...' : 'Create Employer Account' }}
        </button>
        <button
          type="button"
          class="btn btn-secondary"
          (click)="navigateToLogin()"
        >
          Sign In
        </button>
      </div>

      <div class="text-center mt-2">
        <span class="text-hint">Want to register as a candidate instead?</span>
        <button
          type="button"
          class="btn-link"
          (click)="navigateToCandidateRegistration()"
        >
          Register as Candidate
        </button>
      </div>
    </form>
  </div>
</div>
