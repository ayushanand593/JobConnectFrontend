<div class="registration-container">
  <div class="surface-card p-4 shadow-2 border-round w-full lg:w-6">
    <div class="text-center mb-5">
      <div class="text-900 text-3xl font-medium mb-3">Join as an Employer</div>
      <span class="text-600 font-medium line-height-3">
        Create your company account and start posting jobs
      </span>
    </div>

    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
      <!-- Email and Password -->
      <div class="grid">
        <div class="col-12">
          <label for="email" class="block text-900 font-medium mb-2">Email <span class="text-red-500">*</span></label>
          <input pInputText id="email" type="email" formControlName="email" placeholder="Enter your email"
            class="w-full" [class.p-invalid]="isFieldInvalid('email')" />
          <small class="p-error block" *ngIf="isFieldInvalid('email')">
            {{ getFieldError('email') }}
          </small>
        </div>
      </div>

      <div class="grid">
        <div class="col-12 md:col-6">
          <label for="password" class="block text-900 font-medium mb-2">Password <span class="text-red-500">*</span></label>
          <p-password formControlName="password" inputId="password" placeholder="Enter your password"
            [class.p-invalid]="isFieldInvalid('password')" styleClass="w-full" inputStyleClass="w-full" [feedback]="true"
            [toggleMask]="true"></p-password>
         <div *ngIf="registrationForm.errors?.['passwordMismatch'] && (registrationForm.dirty || registrationForm.touched)">
  <small class="p-error">Passwords do not match</small>
</div>
        </div>

        <div class="col-12 md:col-6">
          <label for="confirmPassword" class="block text-900 font-medium mb-2">Confirm Password <span
              class="text-red-500">*</span></label>
          <p-password formControlName="confirmPassword" inputId="confirmPassword" placeholder="Confirm your password"
            [class.p-invalid]="isFieldInvalid('confirmPassword')" styleClass="w-full" inputStyleClass="w-full"
            [feedback]="false" [toggleMask]="true"></p-password>
          <small class="p-error block" *ngIf="isFieldInvalid('confirmPassword')">
            {{ getFieldError('confirmPassword') }}
          </small>
        </div>
      </div>

      <!-- Company Info -->
      <div class="text-900 text-xl font-medium mb-3 mt-4">Company Information</div>

      <div class="grid">
        <div class="col-12 md:col-6">
          <label for="firstName" class="block text-900 font-medium mb-2">First Name <span class="text-red-500">*</span></label>
          <input pInputText id="firstName" type="text" formControlName="firstName" placeholder="Your first name"
            class="w-full" [class.p-invalid]="isFieldInvalid('firstName')" />
          <small class="p-error block" *ngIf="isFieldInvalid('firstName')">
            {{ getFieldError('firstName') }}
          </small>
        </div>

        <!-- <div class="col-12 md:col-6">
          <label for="lastName" class="block text-900 font-medium mb-2">Last Name</label>
          <input pInputText id="lastName" type="text" formControlName="lastName" placeholder="Your last name"
            class="w-full" [class.p-invalid]="isFieldInvalid('lastName')" />
          <small class="p-error block" *ngIf="isFieldInvalid('lastName')">
            {{ getFieldError('lastName') }}
          </small>
        </div> -->
      </div>

      <div class="grid">
        <div class="col-12">
          <label for="companyUniqueId" class="block text-900 font-medium mb-2">Company Unique ID <span
              class="text-red-500">*</span></label>
          <input pInputText id="companyUniqueId" type="text" formControlName="companyUniqueId"
            placeholder="Your registered company ID" class="w-full" [class.p-invalid]="isFieldInvalid('companyUniqueId')" />
          <small class="p-error block" *ngIf="isFieldInvalid('companyUniqueId')">
            {{ getFieldError('companyUniqueId') }}
          </small>
        </div>
      </div>

      <!-- Terms -->
      <div class="grid mt-4">
        <div class="col-12">
          <div class="flex align-items-center">
            <p-checkbox formControlName="termsAccepted" inputId="termsAccepted" [binary]="true"
              [class.p-invalid]="isFieldInvalid('termsAccepted')"></p-checkbox>
            <label for="termsAccepted" class="ml-2">
              I agree to the
              <a href="/terms" target="_blank" class="text-primary font-medium">Terms and Conditions</a>
              and
              <a href="/privacy" target="_blank" class="text-primary font-medium">Privacy Policy</a>
              <span class="text-red-500">*</span>
            </label>
          </div>
          <small class="p-error block ml-4" *ngIf="isFieldInvalid('termsAccepted')">
            {{ getFieldError('termsAccepted') }}
          </small>
        </div>
      </div>

      <!-- Submit Button -->
      <p-button type="submit" label="Create Employer Account" styleClass="w-full mt-4" [loading]="loading"
        [disabled]="registrationForm.invalid || loading">
      </p-button>

      <!-- Redirect to Login -->
      <div class="text-center mt-4">
        <span class="text-600">Already have an employer account?</span>
        <a (click)="navigateToLogin()" class="font-medium no-underline ml-2 text-blue-500 cursor-pointer">
          Sign In
        </a>
      </div>

      <!-- Link to Candidate Registration -->
      <div class="text-center mt-2">
        <span class="text-600">Want to register as a candidate instead?</span>
        <a (click)="navigateToCandidateRegistration()" class="font-medium no-underline ml-2 text-blue-500 cursor-pointer">
          Register as Candidate
        </a>
      </div>
    </form>
  </div>

  <!-- Toast Messages -->
  <!-- <p-toast position="top-right"></p-toast> -->
</div>
